(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{48:function(e,t,a){"use strict";a.r(t);var n=a(3),o=a(2),i=a.n(o),l=a(14),r=a.n(l),s=a(18),c=a(9),d=a(10),p=a(12),h=a(11),u=a(13),g=a.n(u),j=a(59),m=a(60),v=a(61),b=a(62),O=a(55),f=a(56),x=a(17),P=a(49),y=a(50),C=a(51),S=a(52),w=a(63),k=a(53),M=a(54),N=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={name:"",selectedOption:"",errors:{}},e.handleChange=function(t){e.setState(Object(x.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var a=e.validate(),n=a.errors;a.isValid?(e.props.getOpinion({pollId:e.props.poll.id,name:e.state.name,selectedOption:e.state.selectedOption}),t.target.reset(),e.setState({name:"",selectedOption:"",errors:{}})):e.setState({errors:n})},e.validate=function(){var t={};return e.state.name?e.state.name.length>100&&(t.name="Name is too short"):t.name="Please Provide A name",e.state.selectedOption||(t.selectedOption="Please Select a value"),{errors:t,isValid:0===Object.keys(t).length}},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsxs)(P.a,{onSubmit:this.handleSubmit,children:[Object(n.jsxs)("div",{className:"d-flex",children:[Object(n.jsx)("h4",{children:"Opinion"}),Object(n.jsx)(y.a,{color:"warning",type:"button",className:"ml-auto",onClick:this.props.toggleModal,children:"Edit"}),Object(n.jsx)(y.a,{type:"button",className:"ml-2",onClick:function(){return e.props.deletePoll(e.props.poll.id)},children:"Delete"})]}),this.props.poll.options.map((function(t){return Object(n.jsxs)(C.a,{className:"my-2 d-flex",children:[Object(n.jsx)(S.a,{children:Object(n.jsx)(w.a,{type:"radio",id:t.id,name:"selectedOption",value:t.id,onChange:e.handleChange,invalid:!!e.state.errors.selectedOption})}),t.value,Object(n.jsx)("span",{style:{padding:"5px 20px",background:"green",color:"white",borderRadius:"5px"},className:"ml-auto",children:t.vote}),Object(n.jsxs)("span",{style:{padding:"5px",background:"orange",color:"white",borderRadius:"5px"},className:"ml-2",children:[e.props.poll.totalVote>0?(100*t.vote/e.props.poll.totalVote).toFixed(2):0,"%"]})]},t.id)})),Object(n.jsxs)(C.a,{children:[Object(n.jsx)(S.a,{children:"Enter Your name"}),Object(n.jsx)(k.a,{name:"name",placeholder:"Mamun Ahmed",value:this.state.value,onChange:this.handleChange,invalid:!!this.state.errors.name}),this.state.errors.name&&Object(n.jsx)(M.a,{children:this.state.errors.name})]}),Object(n.jsx)(y.a,{type:"submit",children:"Submit Your Opinion"})]})}}]),a}(i.a.Component),T=function(e){var t=e.title,a=e.description,o=e.options,i=e.errors,l=e.buttonValue,r=e.handleChange,s=e.handleOptionChange,c=e.createOption,d=e.deleteOption,p=e.handleSubmit;return Object(n.jsxs)(P.a,{onSubmit:p,children:[Object(n.jsxs)(C.a,{children:[Object(n.jsx)(S.a,{for:"title",children:"Title"}),Object(n.jsx)(k.a,{name:"title",id:"title",placeholder:"Mamun Ahmed",value:t,onChange:r,invalid:!!i.title}),i.title&&Object(n.jsx)(M.a,{children:i.title})]}),Object(n.jsxs)(C.a,{children:[Object(n.jsx)(S.a,{for:"description",children:"Description"}),Object(n.jsx)(k.a,{name:"description",id:"description",placeholder:"description",value:a,onChange:r,invalid:!!i.description}),i.description&&Object(n.jsx)(M.a,{children:i.description})]}),Object(n.jsxs)(C.a,{children:[Object(n.jsxs)(S.a,{children:["Enter Option",Object(n.jsx)(y.a,{className:"btn btn-success",onClick:c,children:"Add Option"})]}),o.map((function(e,t){return Object(n.jsxs)("div",{className:"d-flex",children:[Object(n.jsx)(k.a,{value:e.value,className:"my-2",onChange:function(e){return s(e,t)},invalid:!(!i.options||!i.options[t])}),Object(n.jsx)(y.a,{color:"danger",onClick:function(){return d(t)},className:"my-2 ml-2",children:"Delete"})]},e.id)}))]}),Object(n.jsx)(y.a,{color:"primary",type:"submit",children:l})]})},A=[{id:g.a.generate(),value:"",vote:0},{id:g.a.generate(),value:"",vote:0}],V=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={title:"",description:"",options:A,errors:{}},e.handleChange=function(t){e.setState(Object(x.a)({},t.target.name,t.target.value))},e.handleOptionChange=function(t,a){var n=Object(s.a)(e.state.options);n[a].value=t.target.value,e.setState({options:n})},e.createOptions=function(){var t=e.state.options;t.length<5?(t.push({id:g.a.generate(),vote:0,value:""}),e.setState({options:t})):alert("You can create ma 5 Options")},e.deleteOption=function(t){var a=e.state.options;a.length>0&&a.slice(t,1),e.setState({options:a})},e.handleSubmit=function(t){t.preventDefault();var a=e.validate(),n=a.isValid,o=a.errors;if(n){var i={title:e.state.title,description:e.state.description,options:e.state.options};e.props.isUpdate?(i.id=e.props.poll.id,e.props.submited(i),alert("Update successfully")):(e.props.submit(i),t.target.reset(),e.setState({title:"",description:"",options:A,errors:{}}))}else e.setState({errors:o})},e.validate=function(){var t={},a=e.state,n=a.title,o=a.description,i=a.options;n?n.length<20?t.title="Please Provide minimum 20 charactar":n.length>100&&(t.title="Title is too long"):t.title="Please Provide A Title",o?o.length>500&&(t.description="Description too long"):t.description="Please Provide A description";var l=[];return i.forEach((function(e,t){e.value?e.value.length>100&&(l[t]="Option description is too short"):l[t]="Option Text Empty"})),l.length>0&&(t.options=l),{errors:t,isValid:0===Object.keys(t).length}},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.poll;e&&Object.keys(e).length>0&&this.setState({title:e.title,description:e.description,options:e.options})}},{key:"render",value:function(){var e=this.state,t=e.title,a=e.description,o=e.options,i=e.errors;return Object(n.jsx)(T,{title:t,description:a,options:o,errors:i,buttonValue:this.props.buttonValue||"Create Poll",handleChange:this.handleChange,handleOptionChange:this.handleOptionChange,createOption:this.createOptions,deleteOption:this.deleteOption,handleSubmit:this.handleSubmit})}}]),a}(i.a.Component),D=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={openModal:!1},e.toggleModal=function(){e.setState({openModal:!e.state.openModal})},e}return Object(d.a)(a,[{key:"render",value:function(){if(0===Object.keys(this.props.poll).length)return Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:"Welcome to My Application"}),Object(n.jsx)("p",{children:"You can create as many poll as you want. click the new button to create a new poll. To check details of a poll please select from the left sidebar. By selecting a poll you can check it's details, participate and check others opinion about this poll"})]});var e=this.props,t=e.poll,a=e.getOpinion,o=e.updatePoll,i=e.deletePoll;return Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:t.title}),Object(n.jsx)("p",{children:t.description}),Object(n.jsx)("hr",{}),Object(n.jsx)(N,{poll:t,getOpinion:a,toggleModal:this.toggleModal,deletePoll:i}),Object(n.jsx)("div",{children:Object(n.jsxs)(b.a,{isOpen:this.state.openModal,toggle:this.toggleModal,unmountOnClose:!0,children:[Object(n.jsx)(O.a,{toggle:this.toggleModal,children:"Modal title"}),Object(n.jsx)(f.a,{children:Object(n.jsx)(V,{poll:t,isUpdate:!0,submited:o,buttonValue:"Update Form"})})]})})]})}}]),a}(i.a.Component),F=a(57),J=a(58),Y=function(e){return 0===e.polls.length?Object(n.jsx)("p",{children:"There are no poll"}):Object(n.jsx)(F.a,{children:e.polls.map((function(t){return Object(n.jsx)(J.a,{onClick:function(){return e.selectPoll(t.id)},style:{cursor:"pointer"},children:t.title.length>=32?t.title.substr(0,32)+"...":t.title},t.id)}))})},E=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={openModal:!1},e.toggleModal=function(){e.setState({openModal:!e.state.openModal})},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{style:{background:"#efefef",padding:"20px"},children:[Object(n.jsxs)("div",{className:"d-flex mb-5",children:[Object(n.jsx)(k.a,{type:"search",value:this.props.searchTerm,onChange:function(t){return e.props.handleSearch(t.target.value)},placeholder:"Search"}),Object(n.jsx)(y.a,{color:"success",className:"ml-2",onClick:this.toggleModal,children:"New"})]}),Object(n.jsx)("h3",{children:"List of Poll"}),Object(n.jsx)("hr",{}),Object(n.jsx)(Y,{polls:this.props.polls,selectPoll:this.props.selectPoll}),Object(n.jsxs)(b.a,{unmountOnClose:!0,isOpen:this.state.openModal,toggle:this.toggleModal,children:[Object(n.jsx)(O.a,{toggle:this.toggleModal,children:"Create New Item"}),Object(n.jsx)(f.a,{children:Object(n.jsx)(V,{submit:this.props.addNewPoll})})]})]})}}]),a}(i.a.Component),I=[{id:"9874",title:"What is Your Favorite Programming language",description:"There are lot of popular programming language available. Among them what is your favorite",options:[{id:"38433",value:"C Programming",vote:0},{id:"38d433",value:"Java Programming",vote:0},{id:"384s33",value:"Javascript Programming",vote:0},{id:"3843333",value:"Python Programming",vote:0}],created:new Date,totalVote:0,opinions:[]},{id:"9ds874",title:"What is Your Favorite Programming language",description:"There are lot of popular programming language available. Among them what is your favorite",options:[{id:"3844333",value:"C Programming",vote:0},{id:"38d2433",value:"Java Programming",vote:0},{id:"384s133",value:"Javascript Programming",vote:0},{id:"38433433",value:"Python Programming",vote:0}],created:new Date,totalVote:0,opinions:[]},{id:"9ds425874",title:"What is Your Favorite Programming language",description:"There are lot of popular programming language available. Among them what is your favorite",options:[{id:"3844242333",value:"C Programming",vote:0},{id:"38567d2433",value:"Java Programming",vote:0},{id:"3384s53133",value:"Javascript Programming",vote:0},{id:"3842333433",value:"Python Programming",vote:0}],created:new Date,totalVote:0,opinions:[]},{id:"9ds53874",title:"What is Your Favorite Programming language",description:"There are lot of popular programming language available. Among them what is your favorite",options:[{id:"384434333",value:"C Programming",vote:0},{id:"38d4732433",value:"Java Programming",vote:0},{id:"3824s434133",value:"Javascript Programming",vote:0},{id:"3845524333433",value:"Python Programming",vote:0}],created:new Date,totalVote:0,opinions:[]}],L=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={polls:[],selectedPoll:{},searchTerm:""},e.addNewPoll=function(t){t.id=g.a.generate(),t.created=new Date,t.totalVote=0,t.opinions=[],e.setState({polls:e.state.polls.concat(t)})},e.updatePoll=function(t){var a=Object(s.a)(e.state.polls),n=a.find((function(e){return e.id===t.id}));n.description=t.description,n.options=t.options,e.setState({polls:a})},e.deletePoll=function(t){var a=e.state.polls.filter((function(e){return e.id!==t}));e.setState({polls:a,selectedPoll:{}})},e.selectPoll=function(t){var a=e.state.polls.find((function(e){return e.id===t}));e.setState({selectedPoll:a})},e.handleSearch=function(t){e.setState({searchTerm:t})},e.performSearch=function(){return e.state.polls.filter((function(t){return t.title.toLowerCase().includes(e.state.searchTerm.toLowerCase())}))},e.getOpinion=function(t){var a=e.state.polls,n=a.find((function(e){return e.id===t.pollId})),o=n.options.find((function(e){return e.id===t.selectedOption}));n.totalVote++,o.vote++;var i={id:g.a.generate(),name:t.name,selectedOption:t.selectedOption};n.opinions.push(i),e.setState({polls:a})},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.setState({polls:I})}},{key:"render",value:function(){var e=this.performSearch();return Object(n.jsx)(j.a,{className:"my-5",children:Object(n.jsxs)(m.a,{children:[Object(n.jsx)(v.a,{md:4,children:Object(n.jsx)(E,{polls:e,searchTerm:this.state.searchTerm,handleSearch:this.handleSearch,selectPoll:this.selectPoll,addNewPoll:this.addNewPoll})}),Object(n.jsx)(v.a,{md:8,children:Object(n.jsx)(D,{poll:this.state.selectedPoll,getOpinion:this.getOpinion,updatePoll:this.updatePoll,deletePoll:this.deletePoll})})]})})}}]),a}(i.a.Component),W=(a(47),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,64)).then((function(t){var a=t.getCLS,n=t.getFID,o=t.getFCP,i=t.getLCP,l=t.getTTFB;a(e),n(e),o(e),i(e),l(e)}))});r.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(L,{})}),document.getElementById("root")),W()}},[[48,1,2]]]);
//# sourceMappingURL=main.e2c060a0.chunk.js.map